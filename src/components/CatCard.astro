---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

type Props = {
  post: CollectionEntry<"posts">;
};

const { post } = Astro.props;
---

<div
  class="grid-rows-[minmax(auto,_max-content] grid grid-cols-[minmax(0,_2fr)_minmax(0,_3fr)] bg-zinc-900 transition-all duration-500 hover:-translate-y-2 hover:opacity-80">
  {
    post.data.featuredMedia && (
      <Image
        class="h-full min-h-[200px] grow rounded-xl object-cover"
        src={post.data.featuredMedia.src}
        alt={post.data.featuredMedia.alt || ""}
        loading="eager"
      />
    )
  }
  {
    !post.data.featuredMedia && (
      <div class="aspect-video w-full rounded-xl bg-zinc-700" />
    )
  }
  <div class="flex flex-col justify-center gap-2 p-8">
    <time
      class="text-sm text-zinc-500"
      datetime={new Date(post.data.createdAt).toISOString()}
      >{
        new Date(post.data.createdAt).toLocaleDateString(undefined, {
          month: "long",
          day: "numeric",
          year: "numeric",
          timeZone: "UTC",
        })
      }</time
    >
    <h3 class="text-lg font-bold text-white">{post.data.title}</h3>
    <p class="line-clamp-2 text-zinc-400">{post.data.description}</p>
    <div class="text-lime-500">Read Post</div>
  </div>
</div>
